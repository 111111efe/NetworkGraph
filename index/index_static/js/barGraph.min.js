function drawBarChart(t){var a=translate_to_bardata(t).slice(0,15);var r=[];a.forEach(function(t){r.push(t.label)});var e=d3.scaleBand().domain(r).range([0,bar_config.width-bar_config.left-bar_config.right]);var n=d3.axisBottom(e);var o=d3.scaleLinear().domain([0,a[0].data]).range([bar_config.height-bar_config.top-bar_config.bottom,0]);var i=d3.axisLeft(o);var l=d3.scaleOrdinal(d3.schemeCategory10);var c=(bar_config.width-bar_config.left-bar_config.right)/a.length;var f=c*.3;bar_graph.selectAll(".bar-elements").remove();bar_graph.append("g").attr("id","text-rotate").attr("class","bar-elements").attr("transform","translate("+bar_config.left+", "+(bar_config.height-bar_config.bottom)+")").call(n);bar_graph.append("g").attr("class","bar-elements").attr("transform","translate("+bar_config.left+", "+bar_config.top+")").call(i);var d=bar_graph.append("g").selectAll(".rect").data(a).enter().append("rect").attr("class","bar-elements").attr("x",function(t,a){return a*c+bar_config.left+f/2}).attr("y",function(t){return o(t.data)+bar_config.top}).attr("width",function(){return c-f}).attr("height",function(t){return 0}).attr("fill",function(t,a){return l(a)}).on("click",function(t){find_node_label(t.label);d3.event.stopPropagation()});d.transition().delay(function(t,a){return a*150}).duration(1500).ease(d3.easeCubicOut).attr("height",function(t){return bar_config.height-bar_config.top-bar_config.bottom-o(t.data)});bar_graph.selectAll("#text-rotate text").style("text-anchor","end").style("font-size","13px").attr("transform",function(t,a){return"rotate(-45)"})}function translate_to_bardata(t){var a={};t.nodes.forEach(function(t){if(isNaN(a[t.label])){a[t.label]=1}else{a[t.label]+=1}});var r=[];for(var e in a){r.push({label:e,data:a[e]})}r=r.sort(function(t,a){return a.data-t.data});return r}function find_node_label(a){d3.selectAll(".finded").classed("finded",false);d3.selectAll(".node").each(function(t){if(t.label===a){d3.select(this).classed("finded",true)}})}