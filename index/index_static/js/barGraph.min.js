function drawBarChart(t){var a=translate_to_bardata(t).slice(0,15);var e=[];a.forEach(function(t){e.push(t.label)});var r=d3.scaleBand().domain(e).range([0,BARCONFIG.width-BARCONFIG.left-BARCONFIG.right]);var n=d3.axisBottom(r);var l=d3.scaleLinear().domain([0,a[0].data]).range([BARCONFIG.height-BARCONFIG.top-BARCONFIG.bottom,0]);var o=d3.axisLeft(l);var i=d3.scaleOrdinal(d3.schemeCategory10);var d=(BARCONFIG.width-BARCONFIG.left-BARCONFIG.right)/a.length;var s=d*.3;bar_graph.selectAll(".bar-elements").remove();bar_graph.append("g").attr("id","text-rotate").attr("class","bar-elements").attr("transform","translate("+BARCONFIG.left+", "+(BARCONFIG.height-BARCONFIG.bottom)+")").call(n);bar_graph.append("g").attr("class","bar-elements").attr("transform","translate("+BARCONFIG.left+", "+BARCONFIG.top+")").call(o);var c=bar_graph.append("g").selectAll(".rect").data(a).enter().append("rect").attr("class","bar-elements").attr("x",function(t,a){return a*d+BARCONFIG.left+s/2}).attr("y",function(t){return l(t.data)+BARCONFIG.top}).attr("width",function(){return d-s}).attr("height",function(t){return 0}).attr("fill",function(t,a){return i(a)}).on("click",function(t){find_node_label(t.label);d3.event.stopPropagation()});c.transition().delay(function(t,a){return a*150}).duration(1500).ease(d3.easeCubicOut).attr("height",function(t){return BARCONFIG.height-BARCONFIG.top-BARCONFIG.bottom-l(t.data)});bar_graph.selectAll("#text-rotate text").style("text-anchor","end").style("font-size","13px").attr("transform",function(t,a){return"rotate(-45)"})}function translate_to_bardata(t){var a={};t.nodes.forEach(function(t){if(isNaN(a[t.label])){a[t.label]=1}else{a[t.label]+=1}});var e=[];for(var r in a){e.push({label:r,data:a[r]})}e=e.sort(function(t,a){return a.data-t.data});return e}function find_node_label(a){d3.selectAll(".finded").classed("finded",false);d3.selectAll(".node").each(function(t){if(t.label===a){d3.select(this).classed("finded",true)}})}